(()=>{var e={};e.id=804,e.ids=[804],e.modules={62849:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=62849,e.exports=t},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},41808:e=>{"use strict";e.exports=require("net")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},52096:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>l,patchFetch:()=>x,requestAsyncStorage:()=>v,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>E});var s={};r.r(s),r.d(s,{GET:()=>p,dynamic:()=>c,runtime:()=>u});var i=r(49303),o=r(88716),a=r(60670),n=r(16385);let u="nodejs",c="force-dynamic";async function p(e,{params:t}){let r=Number(t.id),s=await (0,n.V)(),[[i]]=await s.execute("SELECT * FROM activities WHERE id=?",[r]);if(!i)return await s.end(),new Response(JSON.stringify({error:"Not found"}),{status:404});let[[o]]=await s.execute("SELECT * FROM companies WHERE id=?",[i.company_id]),[a]=await s.execute(`
    SELECT e.*, u.name as performed_by_name
    FROM activity_events e
    LEFT JOIN users u ON u.id = e.performed_by
    WHERE e.activity_id=?
    ORDER BY e.event_time DESC, e.id DESC
  `,[r]);return await s.end(),new Response(JSON.stringify({activity:i,company:o,events:a}),{headers:{"Content-Type":"application/json"}})}let d=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/activities/[id]/route",pathname:"/api/activities/[id]",filename:"route",bundlePath:"app/api/activities/[id]/route"},resolvedPagePath:"C:\\Users\\felipe\\Desktop\\agora\\src\\app\\api\\activities\\[id]\\route.js",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:v,staticGenerationAsyncStorage:E,serverHooks:m}=d,l="/api/activities/[id]/route";function x(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:E})}},49303:(e,t,r)=>{"use strict";e.exports=r(30517)},16385:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var s=r(69518);async function i(){if(!process.env.DB_HOST||!process.env.DB_USER||!process.env.DB_NAME)throw Error("Database env vars missing (DB_HOST, DB_USER, DB_NAME). Configure on Vercel Project Settings â†’ Environment Variables.");return await s.createConnection({host:process.env.DB_HOST,port:process.env.DB_PORT||3306,user:process.env.DB_USER,password:process.env.DB_PASS,database:process.env.DB_NAME,charset:"utf8mb4"})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,827],()=>r(52096));module.exports=s})();